{% extends 'base.html' %}

{% load static %}
{% load filters_tags %}

{% block style %}
    <link rel="stylesheet" href="{% static "css/home_style.css" %}" />
{% endblock %}

{% block content %}

        <div class="table-responsive">

            <table id = "ScrollTable" class="table table-bordered w-auto" cellspacing="0">
              <thead class="thead-dark">
                <tr>
                {% for field in meta_fields%}
                    <th>{{ field }}</th>
                {% endfor %}
                </tr>
              </thead>
              <tbody>
                {% for meta_obj in meta_objects %}
                    {% if meta_obj.primary_object %}
                        <tr>
                        {% for field,value in meta_obj %}
                            <td class="align-middle">
                                {% if field == 'master_name' %}
                                    {% if  meta_obj.primary_object%}
                                        <a href="{% url 'source' meta_obj.pk %}"> <span class="badge">P</span> {{ value }} </a>
                                    {% else %}
                                        <a href="{% url 'source' meta_obj.pk %}"> {{ value }} </a>
                                    {% endif %}
                                {% elif field == 'master_survey' and value == 9 %}
                                    {{ 1234 }} {% comment %} TODO: think how to show summary - survey1234 {% endcomment %}
                                {% else %}
                                    {{ value }}
                                {% endif %}
                            </td>
                        {% endfor %}
                        </tr>
                    {% endif %}
                {% endfor %}
              </tbody>
            </table>

        </div>
{% endblock %}
